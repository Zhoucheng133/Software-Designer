# 计算机网络
## <mark>OSI/RM七层模型</mark>
<table>
<tr>
	<td width="30"><b>层次</b></td>
	<td width="80"><b>名称</b></td>
	<td><b>主要功能</b></td>
	<td><b>主要设备及协议</b></td>
</tr>
<tr>
	<td>7</td>
	<td>应用层</td>
	<td>实现具体的应用功能</td>
	<td rowspan="3">POP3、FTP、HTTP、Telnet、SMTP、DHCP、TFTP、SNMP、DNS</td>
</tr>
<tr>
	<td>6</td>
	<td>表示层</td>
	<td>数据的格式与表达、加密、压缩</td>
</tr>
<tr>
	<td>5</td>
	<td>会话层</td>
	<td>建立、管理和终止会话</td>
</tr>
<tr>
	<td>4</td>
	<td>传输层</td>
	<td>端到端的连接</td>
	<td>TCP、UDP</td>
</tr>
<tr>
	<td>3</td>
	<td>网络层</td>
	<td>分组传输和路由选择</td>
	<td>三层交换机、路由器、ARP、RARP、IP、ICMP、IGMP</td>
</tr>
<tr>
	<td>2</td>
	<td>数据链路层</td>
	<td>传输以<mark><b>帧</b></mark>为单位的信息</td>
	<td>网桥、交换机、网卡、PPTP、L2TP、SLIP、PPP</td>
</tr>
<tr>
	<td>1</td>
	<td>物理层</td>
	<td>二进制传输</td>
	<td>中继器、集线器</td>
</tr>
</table>

备注：  
中继器：传递信息的设备  
集线器：拥有多端口的数据传输设备  
网桥：连接两个同类型网络的设备
```
例：某IP网络连接如图所示，在这种配置下IP全局广播分组不能通过的路径是___
A. P~Q		B. P~S
C. Q~R		D. S~T
```
<img src="./p22.png" width = "500" height = "280">

```
解：
A:P~Q之间使用网桥（属于第二层）可以传播
B:P~S之间使用路由器（属于第三层）不可以传播
C:Q~R之间使用集线器（属于第一层）可以传播
D:S~T之间使用交换机（属于第二层）可以传播
因此选B
```
## 网络技术标准与协议
- ### TCP/IP协议
  Internet，可扩展，可靠，应用最广，牺牲速度和效率
	<table>
	<tr>
    <td><b>TCP/IP层级</b></td>
    <td><b>OSI/RM层级</b></td>
    <td><b>协议</b></td>
	</tr>
	<tr>
    <td rowspan="3">应用层</td>
    <td>应用层</td>
    <td rowspan="3">POP3、FTP、HTTP等</td>
	</tr>
  <tr>
    <td>表示层</td>
  </tr>
  <tr>
    <td>会话层</td>
  </tr>
  <tr>
    <td>传输层</td>
    <td>传输层</td>
    <td>TCP、UDP</td>
  </tr>
  <tr>
    <td>Internet层</td>
    <td>网络层</td>
    <td>IP、ICMP、IGMP、ARP、RARP</td>
  </tr>
  <tr>
    <td rowspan="2">网络接口层</td>
    <td>数据链路层</td>
    <td rowspan="2">以太网、令牌环、帧中继、ATM</td>
  </tr>
  <tr>
    <td>物理层</td>
  </tr>
	</table>

  - ICMP  
    **因特网控制协议（检测网络是否通畅）**
  - ARP  
    **用于将IP地址转换成物理地址**
  - RARP  
    **用户将物理地址转换成IP地址**
  - TCP  
    <mark>可靠协议，**通信时建立连接**，建立在有验证机制的基础上  
    在建立通信时会有**三次握手**的操作：  
    **1.A给B发送请求  
    2.B给A发送请求许可  
    3.A给B发送收到许可**</mark>  

    基于TCP的协议：  
    **1.POP3（邮件传输协议）  
    2.FTP（文件传输协议）  
    3.HTTP（超文本传输协议）  
    4.Telnet（远程登陆）  
    5.SMTP（邮件传输协议）**
  <br><br><br><br>
  - UDP  
    <mark>不可靠协议，**通信时不建立连接**，只是将目的地址发送到发送地址</mark>

    基于UDP的协议:  
    **1.DHCP（动态IP地址分配协议）**
    - 客户机/服务器模式
    - 租约时间一般为8天
    - 租约过半时（4天），客户机需要向DHCP服务器申请续租
    - 租约超过87.5%（7天）时如果没有和提供IP的DHCP服务器联系上则开始联系其他DHCP服务器
    - 固定分配、动态分配、自动分配
    - <mark>**如果出现分配到169.254.x.x和0.0.0.0说明没有联系到DHCP服务器**</mark>
    <br><br>

    **2.TFTP（小文件传输协议和FTP可靠性差别）  
    3.SNMP（简单网络管理协议）**  
    **4.DNS（域名解析协议）**
      - DNS负责域名和IP地址之间的转换
      - <mark>**递归查询：服务器必须回答目标IP与域名的映射关系，会增大根域名服务器压力**</mark>
      - <mark>**迭代查询：服务器收到一次迭代查询结果回复一次，这个结果不一定是目标IP与域名的映射关系，也可以是其他DNS服务器的地址**</mark>
      - <mark>**主机向本地域名服务器查询曹勇递归查询**</mark>
      - <mark>**本地域名服务器向根域名服务器的查询通常采用迭代查询**</mark>
    ```
    主机host1对host2进行域名查询的过程如下图所示，下列说法正确的是
    A.根域名服务器采用迭代查询，中介域名服务器采用递归查询
    B.根域名服务器采用递归查询，中介域名服务器采用迭代查询
    C.根域名服务器和中介域名服务器都采用迭代查询
    D.根域名服务器和中介域名服务器都采用递归查询
    ```
    <img src="./p23.png" width = "400" height = "240">

    ```
    解：选A，因为根域名服务器没有查找其他的域名服务器
    ```
  - 其它协议  
    Samba、CIFS、NFS：都是文件共享协议  
    其中Samba可以跨平台
- ### IPX/SPX协议
  NOVELL，路由，大型企业网
- ### NETBEUL协议
  IBM，非路由，快速
## 计算机网络的分类
计算机网络分类按照分布范围分类可以分为<mark>**局域网(LAN)，城域网(MAN)，广域网(WAN)和因特网**</mark>  
按照拓扑结构分类可以分为<mark>**总线型，星型和环型**</mark>
<img src="./p24.png" width = "400" height = "240">

星型存在单点故障问题（如果中心故障，那么整体会瘫痪）  
环型在可靠性有一定优势，任何一个节点出故障不会瘫痪

## 网络规划与设计
网络规划的原则：  
1.实用性原则  
2.开放性原则（有统一的标准）  
3.先进性原则（不使用濒临淘汰的设备）

网络设计的原则：  
1.可用性  
2.可靠性  
3.可恢复性  
4.适应性  
5.可伸缩性
<br><br><br><br><br><br>
- ### 逻辑网络设计
  利用需求分析和现有的网络体系分析的结果来设计逻辑网络结构，最后得到一份逻辑网络设计文档，输出内容包括以下几点  
  1.逻辑网络设计图  
  2.**IP地址方案**  
  3.**安全方案**  
  4.具体的软硬件、广域网连接设备和基本服务  
  5.招聘和培训员工说明  
  6.对硬件、服务、员工和培训的费用初步估计
- ### 分层设计
  接入层：向本地网段提供用户接入  
  **<mark>汇聚层：网络访问策略控制、数据包处理、过滤、寻址**</mark>  
  核心层：数据交换
## IP地址与子网划分
- ### <mark>IP地址分类</mark>
  <table>
  <tr>
    <td><b>类别</b></td>
    <td></td>
    <td><b>点分十进制</b></td>
    <td><b>二进制</b></td>
  </tr>
  <tr>
    <td rowspan="2">A类</td>
    <td>最低</td>
    <td><u>0</u>.0.0.0</td>
    <td><b><u>0</b>0000000</u> 00000000 00000000 00000000</td>
  </tr>
  <tr>
    <td>最高</td>
    <td><u>127</u>.255.255.255</td>
    <td><b><u>0</b>1111111</u> 11111111 11111111 11111111</td>
  </tr>
  <tr>
    <td rowspan="2">B类</td>
    <td>最低</td>
    <td><u>128.0</u>.0.0</td>
    <td><b><u>10</b>000000 00000000</u> 00000000 00000000</td>
  </tr>
  <tr>
    <td>最高</td>
    <td><u>191.255</u>.255.255</td>
    <td><b><u>10</b>111111 11111111</u> 11111111 11111111</td>
  </tr>
  <tr>
    <td rowspan="2">C类</td>
    <td>最低</td>
    <td><u>192.0.0</u>.0</td>
    <td><b><u>110</b>00000 00000000 00000000</u> 00000000</td>
  </tr>
  <tr>
    <td>最高</td>
    <td><u>223.255.255</u>.255</td>
    <td><b><u>110</b>11111 11111111 11111111</u> 11111111</td>
  </tr>
  <tr>
    <td rowspan="2">D类<br>组播</td>
    <td>最低</td>
    <td>124.0.0.0</td>
    <td><b>1110</b>0000 00000000 00000000 00000000</td>
  </tr>
  <tr>
    <td>最高</td>
    <td>239.255.255.255</td>
    <td><b>1110</b>1111 11111111 11111111 11111111</td>
  </tr>
  <tr>
    <td rowspan="2">E类<br>保留</td>
    <td>最低</td>
    <td>124.0.0.0</td>
    <td><b>1111</b>0000 00000000 00000000 00000000</td>
  </tr>
  <tr>
    <td>最高</td>
    <td>255.255.255.255</td>
    <td><b>1111</b>1111 11111111 11111111 11111111</td>
  </tr>
  </table>

  **`注意上表中划线部分为网络号，剩余的是主机号`**

  <mark>**注意可用性！：**</mark>  
  <mark>**主机号不能全0（表示本地网络号，无意义）和全1（表示广播）**</mark>
  
  **因此A类地址可容纳主机个数为2<sup>24</sup>-2个地址**</mark>  
  **B类地址可容纳主机个数为2<sup>16</sup>-2个地址**</mark>
  **C类地址可容纳主机个数为2<sup>8</sup>-2个地址**</mark>
  
<br><br>

- ### 子网划分
  <mark>**步骤：**</mark>  
  1.将IP地址转换为二进制的地址  
  2.保证划分的子网<2<sup>n</sup>，求出n  
  3.确定网络号不变（全是1），主机号为开头为n个1，其它都是0  
  4.将其转换为十进制就是子网掩码
  ```
  例：将B类IP地址168.195.0.0划分为27个子网，子网掩码是多少？
  ```
  ```
  解：
  将IP地址转换为二进制地址：
  10101000 11000011 00000000 00000000
  16<27<32
  则需要取5位子网掩码(2的5次方)
  即子网掩码为：
  11111111 11111111 11111000 00000000
  十进制为255.255.248.0
  ```
  **`注意下面是另外一题`**
  ```
  例：将B类IP地址168.195.0.0划分为若干子网，每个子网内有主机700台，子网掩码为多少
  ```
  ```
  解：2^k-2≥700
  求的k最小为10
  IP地址转换为二进制为：
  10101000 11000011 00000000 00000000
  需要子网掩码：
  11111111 11111111 111111000000
  （需要剩下6个0）
  十进制为255.255.252.0
  ```
- ### 无分类编址
  例如128.14.32.0/20表示地址块有2<sup>12</sup>个地址，20表示网络号，那么主机号是32-20=12位
  ```
  例：分配给某公司网络的地址快是210.115.192.0/20，该网络可以被划分为___个C类子网
  ```
  ```
  C类一共有24位网络号，那么使用了20位之后，可以划分的就是2^4=16个C类子网
  ```
<br>

- ### 特殊含义的IP地址
  |IP|说明|
  |:-|:-|
  |127网段|回播地址|
  |网络号全0地址|当前子网中的主机号|
  |全1地址|本地子网广播号|
  |主机号全1地址|特定子网的广播|
  |10.0.0.0/8|不在公网使用|
  |172.16.0.0/12|不在公网使用|
  |192.168.0.0/16|不在公网使用|
  |169.254.0.0|保留地址，用于DHCP失效|
  |0.0.0.0|保留地址，用于DHCP失效|
## HTML
|标签|功能|
|:-|:-|
|&lt;a&gt;|定义锚|
|&lt;b&gt;|粗体|
|&lt;body&gt;|文档主体|
|&lt;button&gt;|按钮
|&lt;center&gt;|居中文本|
|&lt;col&gt;|表格中一个或多个列属性|
|&lt;font&gt;|定义文本字体、尺寸和颜色
|&lt;from&gt;|HTML表单|
|&lt;frame&gt;|框架集窗口或框架|
|&lt;h1&gt;|HTML标题|
|&lt;hr&gt;|水平线|
|&lt;html&gt;|HTML文档|
|&lt;img&gt;|定义图像
|&lt;p&gt;|定义段落|
|&lt;script&gt;|定义客户端脚本|
|&lt;strong&gt;|强调文本|
|&lt;table&gt;|定义表格
|&lt;td&gt;|表格单元
|&lt;tr&gt;|表格行
|&lt;title&gt;|定义文档标题

## 无线网
无线网的优势：移动性、灵活性、成本低、容易扩充  
分类：  
无线局域网（WLAN，802.11，Wi-Fi）  
无线城域网（WMAN，802.16，WiMax）  
无线广域网（WWAN，3G/4G/5G）  
无线个人网（WPAN，802.15，Bluetooth/Zigbee）

## 网络接入技术
- ### 有线接入
  - 公用交换电话网络（PSTN，也叫做拨号上网）  
    现在多用于传真、POS机等
  - 数字数据网（DDN）
  - 综合业务数字网（ISDN）  
    允许在打电话的同时上网
  - 非对称数字用户线路（ADSL）  
    仍然使用电话线，但是带宽速度大大提升  
    <mark>**其非对称性指的是下行速度高于上行速度（即下载速度大于上传速度）**</mark>
  - 同轴光纤技术（HFC）
- ### 无线接入
  - IEEE 802.11（Wifi）
  - IEEE802.15（蓝牙）
  - 红外（IrDa）
  - WAPI
- ### 3G
  - WCDMA
  - CDMA2000
  - TD-SCDMA
- ### 4G
  - LTE-Advanced
    - TDD：从TD-SCDMA发展而来
    - FDD：从WCDMA发展而来
  - WiMAX
## IPv6
IPv6是设计用于替代现行版本IP协议（IPv4）的下一代IP协议  
**IPv6的特点：**  
1.IPv6地址长度128位，<mark>**地址增大了2<sup>96</sup>倍</mark>**  
2.灵活的IP报文头部格式  
3.简化了报文头部格式，提高吞吐量  
4.提高安全性，增加了身份认证和隐私权  
5.支持更多的服务类型  
6.允许协议继续演化

IPv6地址类别：  
单播地址：单个接口的标识符  
任播地址：泛播地址。一组接口的标识符，IPv4广播地址  
组播地址：IPv6组播和IPv6中的组播类似