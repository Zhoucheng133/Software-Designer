<!DOCTYPE html>
<html>
<head>
<title>12.数据流图.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #ff0000; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BEdfd">数据流图(DFD)</h1>
<h2 id="%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5">基本概念</h2>
<table>
<tr>
  <td width="60"><b>元素</b></td>
  <td><b>说明</b></td>
  <td><b>图元</b></td>
</tr>
<tr>
  <td>数据流</td>
  <td>由一组固定成分的数据组成，表示数据的流向。每个数据流通畅有一个合适的名词，反映数据流的含义</td>
  <td><img src="./p105.png" width="150"></td>
</tr>
<tr>
  <td>加工</td>
  <td>加工描述了输入数据流到输出数据流之间的变换，也就是输入数据流做了什么处理后变成了输出数据流</td>
  <td><img src="./p106.png" width="150"></td>
</tr>
<tr>
  <td>数据存储<br>（文件）</td>
  <td>用来表示暂时存储的数据，每个文件都有名字。流向文件的数据流表示写文件，流出的表示读文件</td>
  <td><img src="./p107.png" width="150"></td>
</tr>
<tr>
  <td>外部实体</td>
  <td>指存在于软件系统外的人员或组织</td>
  <td><img src="./p108.png" width="70"></td>
</tr>
</table>
<p><mark><strong>数据流图中没有联系，只有在ER有</strong></mark></p>
<ul>
<li>
<h3 id="%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE%E7%9A%84%E5%88%86%E5%B1%82">数据流图的分层</h3>
</li>
</ul>
<h2 id="%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8">数据字典</h2>
<table>
<tr>
  <td><b>符号</b></td>
  <td><b>含义</b></td>
  <td><b>举例说明</b></td>
</tr>
<tr>
  <td>=</td>
  <td>被定义为</td>
  <td></td>
</tr>
<tr>
  <td>+</td>
  <td>与</td>
  <td>x=a+b，表示x由a和b组成</td>
</tr>
<tr>
  <td>[…,…]或<br>[…|…]</td>
  <td>或</td>
  <td>x=[a,b],x=[a|b]，表示x由a或由b组成</td>
</tr>
<tr>
  <td>{…}</td>
  <td>重复</td>
  <td>x={a}，表示x由0个或者多个a组成</td>
</tr>
<tr>
  <td>(…)</td>
  <td>可选</td>
  <td>x=(a)，表示a可在x中出现，也可以不出现
</tr>
</table>
<h2 id="%E6%95%B0%E6%8D%AE%E6%B5%81%E5%9B%BE%E5%B9%B3%E8%A1%A1%E5%8E%9F%E5%88%99">数据流图平衡原则</h2>
<ul>
<li>
<h3 id="%E7%88%B6%E5%9B%BE%E5%92%8C%E5%AD%90%E5%9B%BE%E4%B9%8B%E9%97%B4%E7%9A%84%E5%B9%B3%E8%A1%A1">父图和子图之间的平衡</h3>
</li>
<li>
<h3 id="%E5%AD%90%E5%9B%BE%E4%B9%8B%E9%97%B4%E7%9A%84%E5%B9%B3%E8%A1%A1">子图之间的平衡</h3>
只有输入没有输出称之为黑洞，只有输出没有输入称之为奇迹（两者都是不正常现象）
<br><br><br><br><br></li>
</ul>
<h2 id="%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90">案例分析</h2>
<p>例1：<br>
【说明】<br>
    某大型企业的数据中心为了集中管理、控制用户对数据的访问并且支持大量的链接需求，想要构件数据库管理中间件，其主要功能如下：<br>
    (1)<font color="#0000FF">数据管理员</font>可以通过<font color="#0000FF">中间件</font>进行用户管理、操作管理和权限管理，用户管理维护用户信息，<font color=green>用户信息（用户名、密码）</font>存储在<font color="orange">用户表</font>中；操作管理维护数据实体的标准操作及其所属的后端数据库信息，<font color=green>标准操作和后端数据库信息</font>存放在<font color="orange">操作表</font>中；权限管理维护<font color="orange">权限表</font>，该表存储用户可以执行的操作信息<br>
    (2)<font color="#0000FF">中间件</font>验证<font color="#0000FF">前端应用</font>提供的<font color=green>用户信息</font>。若验证不通过，返回<font color=green>非法用户信息</font>；若验证通过，<font color="#0000FF">中间件</font>将等待<font color="#0000FF">前端应用</font>提交操作请求<br>
    (3)<font color="#0000FF">前端应用</font>题叫操作请求后，<font color="#0000FF">中间件</font>先对请求进行格式检查，如果格式不正确，返回<font color=green>非法用户信息</font>；若格式正确，则进行权限验证（验证用户是否有权执行请求的操作），若用户无权执行该操作，则返回<font color=green>权限不足以信息</font>，否则进行连接操作<br>
    (4)连接管理连接相应的<font color=Blue>后台数据库</font>并提交操作。连接管理先检查是否存在空闲的数据库连接，如果不存在，新建连接；如果存在，则重用连接。<br>
    (5)<font color=green>后端数据库执行操作</font>并将结果传给<font color="##0000FF">中间件</font>，<font color="##0000FF">中间件</font>对收到的操作结果进行处理后，将其返回<font color="#0000FF">前端应用</font>。<br>
    现采取结构化方法对系统进行分析与设计，获得如图所示的顶层数据流图和数据流图</p>
<img src="./p110.png" width="500">
<p>【问题1】<br>
使用说明中的词语，给出E1~E3名称<br>
【问题2】<br>
使用说明中的词语，给出D1~D3名称<br>
【问题3】<br>
给出图中加工P的名称及其输入、输出流</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">名称</th>
<th style="text-align:center">起点</th>
<th style="text-align:center">终点</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">输入流</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">P</td>
</tr>
<tr>
<td style="text-align:center">输出流</td>
<td style="text-align:center"></td>
<td style="text-align:center">P</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>除了加工P的输入与输出流外，还缺少两条数据流，给出起点终点<br>
【问题4】<br>
绘制数据流图时，需要注意加工的绘制，给出三种在绘制加工的输入、输出时可能出现的错误</p>
<p><strong><code>下面为解答</code></strong></p>
<hr>
<p>【问题1】<br>
E1：前端应用<br>
E2：数据管理员<br>
E3：后台数据库<br>
【问题2】<br>
D1：用户表<br>
D2：操作表<br>
D3：权限表<br>
【问题3】</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">名称</th>
<th style="text-align:center">起点</th>
<th style="text-align:center">终点</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">输入流</td>
<td style="text-align:center">操作结果</td>
<td style="text-align:center">E3</td>
<td style="text-align:center">P</td>
</tr>
<tr>
<td style="text-align:center">输出流</td>
<td style="text-align:center">处理后的操作结果</td>
<td style="text-align:center">P</td>
<td style="text-align:center">E1</td>
</tr>
</tbody>
</table>
<p>缺失从D2到权限验证和D3到权限验证的数据流<br>
【问题4】<br>
数据流没有平衡，例如黑洞和平衡<br>
数据流命名问题，输入和输出流名称一样<br>
输入流输入之后不会产生输出流</p>
<p><strong><code>下面为另外一题</code></strong></p>
<hr>
<p>例2：<br>
    阅读以下说明和数据流图，回答问題1至问题4，将解答填入答题纸的对应栏内。<br>
【说明】<br>
    现谁备为某银行开发一个信用卡管理系统CCMS，该系统的基本功能为：<br>
    (1)信用卡申请。<font color="#0000FF">非信用卡客户</font>填写信用卡申请表，说明所要申请的信用卡类型及申请者的基本信息，提交CCMS。如果信用卡申请被<font color="#0000FF">银行</font>接受，CCMS将记录该客户的基本信息，并发送确认函给该客户，告知客户信用卡的有效期及信贷限额：否则该客户将会收到一封拒绝函。<font color="#0000FF">非信用卡客户</font>收到确认函后成为<font color="#0000FF">信用卡客户</font>。<br>
    (2)信用卡激活。<font color="#0000FF">信用卡客户</font>向CCMS提交激活请求，用信用卡号和密码激活该信用卡。激活操作结束后，CCMS将激活通知发送给客户，告知客户其信用卡是否被成功激活。<br>
    (3)信用卡客户信息管理。<font color="#0000FF">信用卡客户</font>的个人信息可以在CCMS中进行在线管理。每位信用卡客户可以在线查询和修改个人信息。<br>
    (4)交易信息查询。<font color="#0000FF">信用卡客户</font>使用信用卡进行的每一笔交易都会记录在CCMS 中。信用卡客户可以CCMS查询并核实其交易信息（包括信用卡交易记录及交易额）。<br>
<img src="./p111.png" width="500"></p>
<p>【问题1】<br>
根据【说明】，将途中的E1～E3填充完整<br>
【问题2】<br>
图（上）中缺少三条数据流，根据【说明】，分别指出这三条数据流的起点和终点（注：数据流的起点和终点均采用途中的符号和描述）<br>
【问题3】<br>
图（下）中有两条数据流是错误的，请指出这两条数据流的名称，并改正（注：数据流的起点和终点均采用途中的符号和描述）<br>
【问题4】<br>
根据【说明】，将图中的P1~P4的处理名称填写完整</p>
<p><strong><code>下面为解答</code></strong></p>
<hr>
<p>解：<br>
【问题1】<br>
E1：非信用卡客户<br>
E2：信用卡客户<br>
E3：银行<br>
【问题2】<br>
E1-&gt;CCMS：提交申请表<br>
E2-&gt;CCMS：激活请求<br>
CCMS-&gt;E2：交易信息<br>
【问题3】<br>
信用卡申请表方向反<br>
激活请求起点在E2<br>
【问题4】<br>
P1：交易信息查询<br>
P2：信息管理<br>
P3：信用卡激活<br>
P4：信用卡申请</p>

</body>
</html>
