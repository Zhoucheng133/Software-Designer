<!DOCTYPE html>
<html>
<head>
<title>5.系统安全分析与设计.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #ff0000; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E5%88%86%E6%9E%90%E4%B8%8E%E8%AE%BE%E8%AE%A1">系统安全分析与设计</h1>
<h2 id="%E4%BF%A1%E6%81%AF%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E5%B1%9E%E6%80%A7">信息系统安全属性</h2>
<p>安全属性包括：</p>
<ul>
<li>保密性：最小授权原则、防暴露、信息加密、物理加密</li>
<li>完整性：安全协议、校验码、密码校验、数字签名、公证</li>
<li>可用性：综合保障（IP过滤、业务流控制、路由选择控制、审计跟踪）</li>
<li>不可依赖性：数字签名</li>
</ul>
<h2 id="%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E5%92%8C%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86">对称加密和非对称加密</h2>
<ul>
<li>
<h3 id="%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86">对称加密</h3>
<p>对称加密指的是加密和解密使用完全一样的密钥</p>
<p>常见的对称密钥加密算法：</p>
<ul>
<li>DES<br>
替换+移位的方法，速度快，密钥容易产生</li>
<li>3DES<br>
加密：K1加密-&gt;K2解密-&gt;K1加密<br>
解密：K1解密-&gt;K2加密-&gt;K1解密</li>
<li>AES</li>
<li>RC-5</li>
<li>IDEA
<br><br></li>
</ul>
<p>对称加密优点：<br>
加密和解密速度快，效率高</p>
<p>对称加密缺点：<br>
1.加密强度不高<br>
2.密钥分发困难</p>
</li>
<li>
<h3 id="%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86">非对称加密</h3>
<p>非对称密钥指的是加密的密钥和解密的密钥不一样（公钥加密，私钥解密，或者私钥加密，公钥解密）</p>
<p>发送方和接收方都有各自的私钥和公钥，其中公钥公开<br>
<mark><strong>如果A发送给B，那么A首先用B的公钥加密，发送给B，B用B的私钥解密</strong></mark></p>
<p>常见的非对称密钥加密法</p>
<ul>
<li>RSA<br>
512位（或1024位）密钥，计算量极大，难破解</li>
<li>Elgamal</li>
<li>ECC</li>
<li>背包算法</li>
<li>Rabin</li>
<li>D-H
<br><br></li>
</ul>
<p>非对称加密优点：<br>
极不容易破解</p>
<p>非对称加密缺点：<br>
加密和解密速度都很慢</p>
</li>
</ul>
<h2 id="%E4%BF%A1%E6%81%AF%E6%91%98%E8%A6%81">信息摘要</h2>
<p>单向散列函数（单向哈希函数）（只能由明文转换成摘要，不能将摘要转换为明文）、固定长度的散列值<br>
信息摘要是一段信息的特征值，原始信息发生变化，那么特征值将会随之改变<br>
<mark><strong>常用的信息摘要算法有MD5、SHA等</strong></mark>，市场上广泛使用的MD5，SHA算法的散列值分别为128位和160位</p>
<h2 id="%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D">数字签名</h2>
<p>数据从A发往B，如果通过A的私钥加密（数字签名的过程），B收到后用A的公钥解密（数字签名的验证）成功，相当于A在数据上进行签名</p>
<p><mark><strong>具体步骤：<br>
1.产生信息摘要，对<code>摘要</code>用<code>发送方</code>的私钥加密<br>
2.发送给对方后对方用A的公钥进行解密<br>
3.接收方核验收到的明文摘要和解密之后的明文一致，说明签名验证成功</strong></mark></p>
<h2 id="%E6%95%B0%E5%AD%97%E4%BF%A1%E5%B0%81%E4%B8%8Epgp">数字信封与PGP</h2>
<ul>
<li>
<h3 id="%E6%95%B0%E5%AD%97%E4%BF%A1%E5%B0%81">数字信封</h3>
<p><mark><strong>发送方将通过对称加密的原文发送给对方，同时也将对称密钥用接收方的公钥加密发送给对方</mark></strong></p>
</li>
<li>
<h3 id="pgp">PGP</h3>
<p>PGP可以用于电子邮件，也可以用于文件存储。采用了杂合算法，包括IDEA、RSA、MD5和ZIP数据压缩算法</p>
<p>数字证书就是将证书持有者的个人信息和证书的公钥等信息<br>
PGP承认两种证书：GPG证书和X.509证书</p>
</li>
</ul>
<h2 id="%E8%AE%BE%E8%AE%A1%E9%82%AE%E4%BB%B6%E5%8A%A0%E5%AF%86%E7%B3%BB%E7%BB%9F">设计邮件加密系统</h2>
<pre class="hljs"><code><div>例：要求邮件以加密方式传输，邮件最大附件内容可达500MB，发送者不可抵赖，若邮件被第三方截获，第三方无法篡改
</div></code></pre>
<pre class="hljs"><code><div>解：
加密传输：需要加密解密技术
邮件内容可达500MB：需要使用对称加密技术
发送者不可抵赖：需要用到数字签名技术
第三方无法篡改：信息摘要技术
详细如下：
邮件正文使用对称加密方式发送给对方
对称加密的密钥用对方的公钥加密发送给对方
邮件摘要用发送方的私钥发送给对方
</div></code></pre>
<h2 id="%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8">网络安全</h2>
<ul>
<li>
<h3 id="%E5%90%84%E4%B8%AA%E7%BD%91%E7%BB%9C%E5%B1%82%E6%AC%A1%E7%9A%84%E5%AE%89%E5%85%A8%E4%BF%9D%E9%9A%9C">各个网络层次的安全保障</h3>
<img src="./p25.png" width="400">
<ul>
<li>物理层<br>
屏蔽（无线电信号等）<br>
隔离（物理隔离）</li>
<li>数据链路层<br>
PPTP（点对点隧道协议）、L2TP（多隧道协议）</li>
<li>网络层<br>
防火墙技术（分为软件层面和硬件层面）<br>
IPSec针对IP包进行加密传输（一种将IP包拆开加密，另外一种是整体加密，附加头）</li>
<li>传输层<br>
TLS：标准安全协议<br>
SET：面向电子商务协议，通信过程保密<br>
SSL：注意<mark><strong>跨越传输层到应用层</strong></mark></li>
<li>应用层<br>
Https，即http+SSL</li>
</ul>
</li>
</ul>
<p><br><br><br><br><br><br></p>
<ul>
<li>
<h3 id="%E7%BD%91%E7%BB%9C%E5%A8%81%E8%83%81%E4%B8%8E%E6%94%BB%E5%87%BB">网络威胁与攻击</h3>
<table>
<tr>
  <td width="120"><b>威胁名称</td></td>
  <td><b>描述</td></td>
</tr>
<tr>
  <td>重放攻击(ARP)</td>
  <td>所截获的某次合法的通信数据拷贝，出于非法的目的而被重新发送</td>
</tr>
<tr>
  <td>拒绝服务(DOS)</td>
  <td>对信息或其它资源的合法访问被无条件阻止</td>
</tr>
<tr>
  <td>窃听</td>
  <td>用各种可能的合法或非法的手段窃取系统中的信息资源和敏感信息。<br>例如对通信线路中传输的信号进行搭线窃听，或者利用通信设备在工作过程中产生的电磁泄露截取有用信息等</td>
</tr>
<tr>
  <td>业务流分析</td>
  <td>通过对系统进行<mark><b>长期监听</b></mark>，利用统计分析方法对诸如通信频度、通信的信息流向、通信总量的变化等参数进行研究，从而发现有用价值的信息和规律</td>
</tr>
<tr>
  <td>信息泄露</td>
  <td>信息被泄露或透露给某个非授权的实体</td>
</tr>
<tr>
  <td>破坏信息的完整性</td>
  <td>数据被非授权地进行增删、修改或破坏收到损失</td>
</tr>
<tr>
  <td>非授权访问</td>
  <td>某一资源被某个非授权的人、或以非授权的方式使用</td>
</tr>
<tr>
  <td>假冒</td>
  <td>通过欺骗通信系统（或用户）达到非法用户冒充成为合法用户，或者特权小的用户冒充成为特权大的用户的目的。黑客大多是采用假冒进行攻击</td>
</tr>
<tr>
  <td>旁路控制</td>
  <td>攻击者利用系统的安全缺陷或安全性上的脆弱之处获得非授权的权利或特权。<br>
  例如，攻击者通过各种攻击手段发现原本应保密，但是却又暴露出来的一些系统“特征”，通过此可以绕过防守卫者侵入系统内部</tr>
</tr>
<tr>
  <td>授权侵犯</td>
  <td>被授权以某一目的使用某一系统或资源的某个人，却将此权限用于其它非授权的目的，也叫做“内部攻击”
</tr>
<tr>
  <td>特洛伊木马</td>
  <td>软件中含有一个察觉不出的或者无害的程序段，当它被执行时，会破坏用户的安全</td>
</tr>
<tr>
  <td>陷进门</td>
  <td>在某个系统或某个部件中设置了“机关”，使得当提供特定的输入程序时允许反安全策略</td>
</tr>
<tr>
  <td>抵赖</td>
  <td>来自用户的攻击<br>例如否认自己发布过某条消息，伪造一份对方来信等</td>
</tr>
</table>
</li>
<li>
<h3 id="%E9%98%B2%E7%81%AB%E5%A2%99">防火墙</h3>
<p>防火墙分类：</p>
<ul>
<li>网络级
<ul>
<li>包过滤</li>
<li>状态检测</li>
</ul>
</li>
<li>应用级
<ul>
<li>双穴主机</li>
<li>屏蔽主机</li>
<li><strong>屏蔽子网</strong></li>
</ul>
</li>
</ul>
<p>网络级防火墙层级比较低但是效率高，而应用级防火墙层级高，但是效率低<br>
应用级的防火墙比网络级更彻底</p>
<ul>
<li>屏蔽子网防火墙（安全度最高）<br>
在外网和内网之间建立隔离区（DMZ，又叫做非军事区），在隔离区部署堡垒主机，这样增加外部网络对内网的攻击</li>
</ul>
</li>
</ul>

</body>
</html>
